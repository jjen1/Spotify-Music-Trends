CREATE DATABASE spotify;

CREATE TABLE artist_info(
    artist_id VARCHAR(250),
    name VARCHAR(550),
    followers INT,
    popularity NUMERIC,
    genre_1 VARCHAR(200),
    genre_2 VARCHAR(200),
    genre_3 VARCHAR(200),
    PRIMARY KEY(artist_id)
);

CREATE TABLE album(
    id VARCHAR(250),
    name VARCHAR(550),
    type VARCHAR(300),
    label VARCHAR(200),
    total_tracks INT,
    popularity NUMERIC,
    release_date TIMESTAMPTZ,
    artist_id VARCHAR(250),
    PRIMARY KEY(id),
    FOREIGN KEY(artist_id) REFERENCES artist_info(artist_id)
);

CREATE TABLE track(
    id VARCHAR(250),
    name VARCHAR(550),
    track_number INT,
    total_tracks INT,
    popularity NUMERIC,
    duration_sec INT,
    explicit VARCHAR (50),
    album_id VARCHAR(250),
    artist_id VARCHAR(250),
    PRIMARY KEY(id),
    FOREIGN KEY(album_id) REFERENCES album(id),
    FOREIGN KEY(artist_id) REFERENCES artist_info(artist_id)
);

CREATE TABLE track_feature(
    feature_id SERIAL,
    track_id VARCHAR(250),
    danceability NUMERIC,
    energy NUMERIC,
    loudness NUMERIC,
    speechiness NUMERIC,
    acousticness NUMERIC,
    valence NUMERIC,
    tempo NUMERIC,
    PRIMARY KEY(feature_id),
    FOREIGN KEY(track_id) REFERENCES track(id)
);

