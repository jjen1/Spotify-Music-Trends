CREATE DATABASE spotify;

CREATE TABLE artist_info(
    id VARCHAR(150),
    name VARCHAR(100),
    followers INT,
    popularity NUMERIC,
    genre_1 VARCHAR(50),
    genre_2 VARCHAR(50),
    genre_3 VARCHAR(50),
    PRIMARY KEY(id)
);

CREATE TABLE album(
    id VARCHAR(150),
    name VARCHAR(100),
    type VARCHAR(50),
    label VARCHAR,
    total_tracks INT,
    popularity NUMERIC,
    release_date TIMESTAMPTZ,
    artist_id VARCHAR(150),
    PRIMARY KEY(id),
    FOREIGN KEY(artist_id) REFERENCES artist_info(id)
);

CREATE TABLE track(
    id VARCHAR(150),
    name VARCHAR(100),
    track_number INT,
    total_tracks INT,
    popularity NUMERIC,
    duration_sec INT,
    explicit VARCHAR (10),
    album_id VARCHAR(150),
    artist_id VARCHAR(150),
    PRIMARY KEY(id),
    FOREIGN KEY(album_id) REFERENCES album(id),
    FOREIGN KEY(artist_id) REFERENCES artist_info(id)
);

CREATE TABLE track_feature(
    feature_id SERIAL,
    track_id VARCHAR(150),
    danceability NUMERIC,
    energy NUMERIC,
    loudness NUMERIC,
    speechiness NUMERIC,
    acousticness NUMERIC,
    valence NUMERIC,
    tempo NUMERIC,
    PRIMARY KEY(feature_id),
    FOREIGN KEY(track_id) REFERENCES track(id)
);
