CREATE DATABASE spotify;

CREATE TABLE artist_info(
    id VARCHAR,
    name VARCHAR,
    followers INT,
    popularity NUMERIC,
    genre_1 VARCHAR,
    genre_2 VARCHAR,
    genre_3 VARCHAR,
    PRIMARY KEY(id)
);

CREATE TABLE album(
    id VARCHAR,
    name VARCHAR,
    type VARCHAR,
    label VARCHAR,
    total_tracks INT,
    popularity NUMERIC,
    release_date TIMESTAMPTZ,
    artist_id VARCHAR,
    PRIMARY KEY(id),
    FOREIGN KEY(artist_id) REFERENCES artist_info(id)
);

CREATE TABLE track(
    id VARCHAR,
    name VARCHAR,
    track_number INT,
    total_tracks INT,
    popularity NUMERIC,
    duration_sec INT,
    explicit VARCHAR,
    album_id VARCHAR,
    artist_id VARCHAR,
    PRIMARY KEY(id),
    FOREIGN KEY(album_id) REFERENCES album(id),
    FOREIGN KEY(artist_id) REFERENCES artist_info(id)
);

CREATE TABLE track_feature(
    feature_id SERIAL,
    track_id VARCHAR,
    danceability NUMERIC,
    energy NUMERIC,
    loudness NUMERIC,
    speechiness NUMERIC,
    acousticness NUMERIC,
    valence NUMERIC,
    tempo NUMERIC
    PRIMARY KEY(feature_id),
    FOREIGN KEY(track_id) REFERENCES track(id)
);
